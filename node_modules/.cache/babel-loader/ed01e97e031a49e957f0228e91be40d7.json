{"ast":null,"code":"var _jsxFileName = \"/home/gustavo/q2/gestao3/capstone-q2-educ-financeira-g4/src/Providers/Children/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState } from \"react\";\nimport api from \"../../Services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ChildrenContext = /*#__PURE__*/createContext({});\nexport const ChildrenProvider = ({\n  children\n}) => {\n  _s();\n\n  const [actualChildren, setActualChildren] = useState(0);\n\n  const updateWallet = (childrenUser, amount) => {\n    const {\n      id\n    } = childrenUser;\n    childrenUser.wallet += Number(amount);\n    api.patch(`users/${id}`, childrenUser, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n  };\n\n  const changingActualChildren = childrenId => {\n    setActualChildren(childrenId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(ChildrenContext.Provider, {\n    value: {\n      updateWallet,\n      actualChildren,\n      changingActualChildren\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ChildrenProvider, \"BZi/9vjMyMHh1x9wyjb0st7KNYY=\");\n\n_c = ChildrenProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChildrenProvider\");","map":{"version":3,"sources":["/home/gustavo/q2/gestao3/capstone-q2-educ-financeira-g4/src/Providers/Children/index.tsx"],"names":["createContext","useState","api","ChildrenContext","ChildrenProvider","children","actualChildren","setActualChildren","updateWallet","childrenUser","amount","id","wallet","Number","patch","headers","Authorization","localStorage","getItem","changingActualChildren","childrenId"],"mappings":";;;AAAA,SAASA,aAAT,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,GAAP,MAAgB,oBAAhB;;AAwBA,OAAO,MAAMC,eAAe,gBAAGH,aAAa,CAAuB,EAAvB,CAArC;AAEP,OAAO,MAAMI,gBAAgB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAuC;AAAA;;AAEnE,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCN,QAAQ,CAAC,CAAD,CAApD;;AACA,QAAMO,YAAY,GAAG,CAACC,YAAD,EAA4BC,MAA5B,KAA6C;AAC9D,UAAM;AAAEC,MAAAA;AAAF,QAASF,YAAf;AACAA,IAAAA,YAAY,CAACG,MAAb,IAAqBC,MAAM,CAACH,MAAD,CAA3B;AACAR,IAAAA,GAAG,CACDY,KADF,CACS,SAAQH,EAAG,EADpB,EACuBF,YADvB,EACoC;AAC/BM,MAAAA,OAAO,EAAC;AACLC,QAAAA,aAAa,EAAE,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADjD;AADuB,KADpC;AAMH,GATD;;AAUA,QAAMC,sBAAsB,GAAIC,UAAD,IAAsB;AACjDb,IAAAA,iBAAiB,CAACa,UAAD,CAAjB;AACH,GAFD;;AAKA,sBACI,QAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAE;AAACZ,MAAAA,YAAD;AAAeF,MAAAA,cAAf;AAA+Ba,MAAAA;AAA/B,KAAjC;AAAA,cACKd;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAvBM;;GAAMD,gB;;KAAAA,gB","sourcesContent":["import { createContext, ReactNode, useState } from \"react\";\nimport api from \"../../Services/api\";\n\ninterface ChildrenUser {\n  email: string;\n  name: string;\n  wallet: number;\n  type: string;\n  wishlist?: [];\n  balance?: [];\n  id: number;\n  parentId: number;\n}\n\ninterface ChildrenProviderData{\n    updateWallet: (childrenUser:ChildrenUser, amount:number) => void,\n    actualChildren: number,\n    changingActualChildren: (childrenId:number) => void\n}\n\ninterface ChildrenProviderProps {\n  children: ReactNode;\n}\n\n\nexport const ChildrenContext = createContext<ChildrenProviderData>({} as ChildrenProviderData)\n\nexport const ChildrenProvider = ({ children }:ChildrenProviderProps) =>{\n    \n    const [actualChildren, setActualChildren] = useState(0)\n    const updateWallet = (childrenUser:ChildrenUser, amount:number) =>{\n        const { id } = childrenUser\n        childrenUser.wallet+=Number(amount)\n        api\n         .patch(`users/${id}`, childrenUser,{\n             headers:{\n                Authorization:`Bearer ${localStorage.getItem('token')}`\n            }\n         })\n    }\n    const changingActualChildren = (childrenId:number) =>{\n        setActualChildren(childrenId)\n    }\n    \n    \n    return(\n        <ChildrenContext.Provider value={{updateWallet, actualChildren, changingActualChildren}}>\n            {children}\n        </ChildrenContext.Provider>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}